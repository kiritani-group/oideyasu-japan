model Payment {
  id                String          @id @default(cuid())
  orderId           String
  order             Order           @relation(fields: [orderId], references: [id])
  provider          PaymentProvider
  providerPaymentId String?         @unique
  amount            Int
  currency          String          @default("jpy")
  status            PaymentStatus
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt

  @@unique([orderId, provider])
}

enum PaymentProvider {
  STRIPE
  BANK_TRANSFER
  CASH_ON_DELIVERY
}

enum PaymentStatus {
  PENDING
  SUCCEEDED
  FAILED
  CANCELED
  REFUNDED
}
